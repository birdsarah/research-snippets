---
title: My JupyterLab Setup
updated: 2019-04-17 15:00
---

I love my JupyterLab setup....when it's working.

Today I got in a pickle setting up a new environment so this will hopefully
help me remember how everything works.

## Background

I was definitely resistent to JupyterLab. I was tipped over the edge
by the ability to copy notebook cells easily between notebooks, including via a
vim "yank."

Recently dask started nagging about having multiple clusters going, and I was
introduced to the dask_labextension. Again, I was resistant to trying (there
may be a theme here), but have
subsequently decided I like it.....when it's working.

Jupyter and JupyterLab support extensions, some of which are very handy but
managing them has always felt a little awkward. I like to keep things
separated so I have different environments for every project I work on, but
everytime I start a new project I don't want to have to add all my
labextensions as dependencies. They're not dependencies for other people, just
my preferences.

## How it works

All my labextensions are in a directory seperate from my conda/python
environments. The directory is known via the environment variable
`JUPYTERLAB_DIR`

* Make a directory `~/.local/share/jupter/lab`
* Add `export JUPYTERLAB_DIR=$HOME/.local/share/jupyter/lab` to `~/.bashrc`
    or, in my case, `~/.zshrc`.
* Install the jupyterlab extensions you want with `jupyter labextension
    install ...`. For me that's: `jupterlab_vim`, `jupyterlab_bokeh`,
    `dask_labextension`.

Vim bindings and displaying bokeh plots will now just work.

Dask takes a little more effort. Because there's a server component, I also
need to `pip install dask_labextension` into my environment. It's important
that the version numbers match.

Now, when I start-up JupyterLab it looks like this:

## Potential troubles

* I found I had to uninstall labextensions before installing them to get the
latest version.
* dask_labextension does not give helpful error messages if it doesn't work, it
  just 404s. Just needed to be methodical that everything was at the latest
  version.
